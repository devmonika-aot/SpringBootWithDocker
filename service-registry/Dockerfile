FROM openjdk:17

ARG TEMP_FILE=target/*.jar

COPY ${TEMP_FILE} serviceregistry.jar

ENTRYPOINT ["java","-jar","/serviceregistry.jar"]
# ENTRYPOINT means when we run the container, what exactly need to run

EXPOSE 8761

# CREATE DOCKERFILE WHICH BUILD TO CREATE DOCKER IMAGE

# openjdk:17 IS THE PRE-REQUSITES CONFIGURATION WHICH WE NEED

# AFTER WE BUILD THE APPLICATION, .JAR FILE WHICH WE ARE SUPPOSED TO RUN
# WILL BE AVAILABLE IN THE GTARGET FOLDER. WE ARE FETCHING JAR FILE WHICH WE NEED TO RUN INRODER TO RUN THE
# APPLICATION

# ONCE IMAGES IC CREATED WE CAN SEE IT IN THE CMD BY RUNNING DOCKER CMD DOCKER PS

# SINCE THIS IS MICROSERVICES APPLICATION WHERE DIFFERENT APPLICATION ARE COOMUNICATING EACH OTHER, SO
# LOCALHOST WON'T WORK HERE AS IT WON'T RUN FROM LOCALHOST. IT WILL RUN FROM DOCKER. SO
# DOCKER IS THE HOST FOR THESE APPLICATION.

# SO ${EUREKA_SERVER_ADDRESS:http://localhost:8761/eureka}, HERE WE WILL PASS EUREKA_SERVER_ADDRESS AS ENVIRONMENT
# VARIABLE WHILE RUNNING IMAGE. FOR EX REFER TO BELOW EXAMPLE

# docker run -p9296:9296 -e EUREKA_SERVER_ADDRESS=http://host.docker.internal:8761/eureka --name configserver 843567c3242d



